@model Location
   <script src="https://static.neshan.org/sdk/leaflet/1.4.0/leaflet.js" type="text/javascript"></script>
<div class="container">
        <div id="map"
        style="width: 99%; height: 98%; background: #eee; border: 2px solid #aaa;position: absolute;z-index: 1;display: block;"></div>
</div>
<script>
    var myMap = new L.Map('map', {
    key: 'web.bbe6796338834c648c64ba4df8f72795',
    maptype: 'dreamy',
    poi: true,
    traffic: false,
    center: [35.699739, 51.338097],
    zoom: 14
});
//var xhr = new XMLHttpRequest();

//xhr.open('GET', 'https://api.neshan.org/v5/reverse?lat=@Model.Lat&lng=@Model.Long');
//xhr.onreadystatechange = handler;
//xhr.responseType = 'blob';
//xhr.setRequestHeader('Api-Key', 'web.bbe6796338834c648c64ba4df8f72795');
//xhr.send();

//function handler() {
//  if (this.readyState === this.DONE) {
//    if (this.status === 200) {
//      // this.response is a Blob, because we set responseType above
//      var data_url = URL.createObjectURL(this.response);
//      document.querySelector('#output-frame-id').src = data_url;
//    } else {
//      console.error('no pdf :(');
//    }
//  }
}</script>